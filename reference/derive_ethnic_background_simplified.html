<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Derive simplified ethnic background — derive_ethnic_background_simplified • ukbwranglr</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Derive simplified ethnic background — derive_ethnic_background_simplified" />
<meta property="og:description" content="Simplifies ethnic background in a UK Biobank main dataset to the main
categories for
Field ID 21000." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ukbwranglr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/rmgpanw/ukbwranglr/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Derive simplified ethnic background</h1>
    <small class="dont-index">Source: <a href='https://github.com/rmgpanw/ukbwranglr/blob/master/R/derived_variables.R'><code>R/derived_variables.R</code></a></small>
    <div class="hidden name"><code>derive_ethnic_background_simplified.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Simplifies ethnic background in a UK Biobank main dataset to the main
categories for
<a href='https://biobank.ndph.ox.ac.uk/ukb/field.cgi?id=21000'>Field ID 21000</a>.</p>
    </div>

    <pre class="usage"><span class='fu'>derive_ethnic_background_simplified</span><span class='op'>(</span>
  <span class='va'>ukb_main</span>,
  ukb_data_dict <span class='op'>=</span> <span class='fu'><a href='get_ukb_data_dict.html'>get_ukb_data_dict</a></span><span class='op'>(</span><span class='op'>)</span>,
  ethnicity_levels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"White"</span>, <span class='st'>"Mixed"</span>, <span class='st'>"Asian or Asian British"</span>,
    <span class='st'>"Black or Black British"</span>, <span class='st'>"Chinese"</span>, <span class='st'>"Other ethnic group"</span><span class='op'>)</span>,
  .drop <span class='op'>=</span> <span class='cn'>FALSE</span>,
  .details_only <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>ukb_main</th>
      <td><p>A UK Biobank main dataset.</p></td>
    </tr>
    <tr>
      <th>ukb_data_dict</th>
      <td><p>The UKB data dictionary (available online at the UK
Biobank
<a href='https://biobank.ctsu.ox.ac.uk/crystal/exinfo.cgi?src=accessing_data_guide'>data
 showcase</a>. This should be a data frame where all columns are of type
<code>character</code>. By default, this is downloaded from the
<a href='https://github.com/rmgpanw/ukbwranglr_resources'><code>ukbwranglr_resources</code></a>
 github repo.</p></td>
    </tr>
    <tr>
      <th>ethnicity_levels</th>
      <td><p>The factor level order for the appended
<code>ethnic_background_simplified</code> column. By default, the baseline level
is set to "White" ethnicity.</p></td>
    </tr>
    <tr>
      <th>.drop</th>
      <td><p>If <code>TRUE</code>, remove the required input columns from the
result</p></td>
    </tr>
    <tr>
      <th>.details_only</th>
      <td><p>If <code>TRUE</code>, return a list containing details of
required input variables (Field IDs) and derived variables (new column
name, label and values/value labels).</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data frame with a column called <code>ethnic_background_simplified</code>
  (type factor).</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Categories "Do not know" and "Prefer not to answer" are converted to
<code>NA</code>. A new column called <code>ethnic_background_simplified</code> of type
factor is appended to the input data frame. By default, "White" ethnicity is
set to the baseline level as this is the largest category. Levels can be
explicitly specified using the <code>ethnicity_levels</code> argument.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='r-in'><span class='va'>dummy_ukb_data</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span></span>
<span class='r-in'>  eid <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>2</span>, <span class='fl'>3</span><span class='op'>)</span>,</span>
<span class='r-in'>  f.21000.0.0 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"White"</span>, <span class='st'>"White and Black Caribbean"</span>, <span class='cn'>NA</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span class='r-in'>  f.21000.1.0 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"British"</span>, <span class='st'>"Caribbean"</span>, <span class='cn'>NA</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span class='r-in'>  f.21000.2.0 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Irish"</span>, <span class='cn'>NA</span>, <span class='st'>"Any other Asian background"</span><span class='op'>)</span><span class='op'>)</span></span>
<span class='r-in'><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='fu'>derive_ethnic_background_simplified</span><span class='op'>(</span></span>
<span class='r-in'>  ukb_main <span class='op'>=</span> <span class='va'>dummy_ukb_data</span>,</span>
<span class='r-in'>  ukb_data_dict <span class='op'>=</span> <span class='fu'><a href='get_ukb_data_dict.html'>get_ukb_data_dict</a></span><span class='op'>(</span><span class='op'>)</span></span>
<span class='r-in'><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   eid               f.21000.0.0 f.21000.1.0                f.21000.2.0</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 1   1                     White     British                      Irish</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 2   2 White and Black Caribbean   Caribbean                       &lt;NA&gt;</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 3   3                      &lt;NA&gt;        &lt;NA&gt; Any other Asian background</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   ethnic_background_simplified</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 1                        White</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 2                        Mixed</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 3       Asian or Asian British</span>
<span class='r-in'></span>
</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Alasdair Warwick.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>



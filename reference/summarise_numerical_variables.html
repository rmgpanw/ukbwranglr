<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Summarise numerical variables — summarise_numerical_variables • ukbwranglr</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Summarise numerical variables — summarise_numerical_variables"><meta property="og:description" content="Summarises numerical variables with repeated measurements either by field
(i.e. all available measurements) or by instance (i.e. for all measurements
at each assessment visit). Currently available summary options are mean,
minimum, maximum, sum and number of non-missing values."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ukbwranglr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/rmgpanw/ukbwranglr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Summarise numerical variables</h1>
    <small class="dont-index">Source: <a href="https://github.com/rmgpanw/ukbwranglr/blob/HEAD/R/rowwise_summaries.R" class="external-link"><code>R/rowwise_summaries.R</code></a></small>
    <div class="hidden name"><code>summarise_numerical_variables.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Summarises numerical variables with repeated measurements either by field
(i.e. all available measurements) or by instance (i.e. for all measurements
at each assessment visit). Currently available summary options are mean,
minimum, maximum, sum and number of non-missing values.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">summarise_numerical_variables</span><span class="op">(</span>
  <span class="va">ukb_main</span>,
  data_dict <span class="op">=</span> <span class="cn">NULL</span>,
  summary_function <span class="op">=</span> <span class="st">"mean"</span>,
  summarise_by <span class="op">=</span> <span class="st">"Field"</span>,
  .drop <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>ukb_main</dt>
<dd><p>A UK Biobank main dataset data frame. Column names must match
those under the <code>descriptive_colnames</code> column in <code>data_dict</code>.</p></dd>
<dt>data_dict</dt>
<dd><p>a data dictionary specific to the UKB main dataset file,
created by <code><a href="make_data_dict.html">make_data_dict</a></code>.</p></dd>
<dt>summary_function</dt>
<dd><p>The summary function to be applied. Options: "mean",
"min", "max", "sum" or "n_values"</p></dd>
<dt>summarise_by</dt>
<dd><p>Whether to summarise by "Field" or by "Instance".</p></dd>
<dt>.drop</dt>
<dd><p>If <code>TRUE</code>, removes the original numerical variables from
the result. Default value is <code>FALSE</code>.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A data frame with new columns summarising numerical variables. The
  names for these new columns are prefixed by the value for
<code>summary_function</code> and end with 'x', FieldID +/- instance being
  summarised e.g. if summarising FieldID 4080 instance 0, the new column
  would be named 'mean_systolic_blood_pressure_automated_reading_x4080_0'.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Note that when <code>summary_function = "sum"</code>, missing values are converted
to zero. Therefore if a set of values are <em>all</em> missing then the sum
will summarised as <code>0</code>. See the documentation for
<code><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></code> for further details.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># make dummy data</span></span>
<span class="r-in"><span class="va">dummy_ukb_data</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span class="r-in">  f.eid <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">6</span><span class="op">)</span>,</span>
<span class="r-in">  f.31.0.0 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0</span>, <span class="cn">NA</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span class="r-in">  f.34.0.0 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1952</span>, <span class="fl">1946</span>, <span class="fl">1951</span>, <span class="fl">1956</span>, <span class="cn">NA</span>, <span class="fl">1948</span><span class="op">)</span>,</span>
<span class="r-in">  f.52.0.0 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">8</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">9</span>, <span class="fl">4</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span class="r-in">  f.21000.0.0 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">4001</span>, <span class="fl">3</span>, <span class="cn">NA</span>, <span class="op">-</span><span class="fl">3</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span class="r-in">  f.20002.0.0 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1665</span>, <span class="fl">1383</span>, <span class="fl">1197</span>, <span class="fl">1441</span>, <span class="fl">1429</span>, <span class="fl">1513</span><span class="op">)</span>,</span>
<span class="r-in">  f.21001.0.0 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20.1115</span>, <span class="fl">30.1536</span>, <span class="fl">22.8495</span>, <span class="fl">23.4904</span>, <span class="fl">29.2752</span>, <span class="fl">28.2567</span><span class="op">)</span>,</span>
<span class="r-in">  f.21001.1.0 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20.864</span>, <span class="fl">20.2309</span>, <span class="fl">26.7929</span>, <span class="fl">25.6826</span>, <span class="fl">19.7576</span>, <span class="fl">30.286</span><span class="op">)</span>,</span>
<span class="r-in">  f.21001.2.0 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">27.4936</span>, <span class="fl">27.6286</span>, <span class="fl">37.2294</span>, <span class="fl">14.6641</span>, <span class="fl">27.3534</span><span class="op">)</span>,</span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># summarise, keep original variables</span></span>
<span class="r-in"><span class="fu">summarise_numerical_variables</span><span class="op">(</span><span class="va">dummy_ukb_data</span><span class="op">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Number of summary columns to make: 1</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Time taken: 0 minutes, 0 seconds.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 6 × 10</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   f.eid f.31.0.0 f.34.0.0 f.52.0.0 f.21000.0.0 f.20002.0.0 f.21001.0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>     1        0     <span style="text-decoration: underline;">1</span>952        8          <span style="color: #BB0000;">NA</span>        <span style="text-decoration: underline;">1</span>665        20.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>     2        0     <span style="text-decoration: underline;">1</span>946        3        <span style="text-decoration: underline;">4</span>001        <span style="text-decoration: underline;">1</span>383        30.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span>     3        1     <span style="text-decoration: underline;">1</span>951        4           3        <span style="text-decoration: underline;">1</span>197        22.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span>     4        0     <span style="text-decoration: underline;">1</span>956        9          <span style="color: #BB0000;">NA</span>        <span style="text-decoration: underline;">1</span>441        23.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span>     5       <span style="color: #BB0000;">NA</span>       <span style="color: #BB0000;">NA</span>        4          -<span style="color: #BB0000;">3</span>        <span style="text-decoration: underline;">1</span>429        29.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span>     6        1     <span style="text-decoration: underline;">1</span>948        2           3        <span style="text-decoration: underline;">1</span>513        28.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with 3 more variables: f.21001.1.0 &lt;dbl&gt;, f.21001.2.0 &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   mean_body_mass_index_bmi_x21001 &lt;dbl+lbl&gt;</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># summarise, drop original variables</span></span>
<span class="r-in"><span class="fu">summarise_numerical_variables</span><span class="op">(</span><span class="va">dummy_ukb_data</span>, .drop <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Number of summary columns to make: 1</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Time taken: 0 minutes, 0 seconds.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 6 × 7</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   f.eid f.31.0.0 f.34.0.0 f.52.0.0 f.21000.0.0 f.20002.0.0 mean_body_mass_index…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl+lbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>     1        0     <span style="text-decoration: underline;">1</span>952        8          <span style="color: #BB0000;">NA</span>        <span style="text-decoration: underline;">1</span>665                  20.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>     2        0     <span style="text-decoration: underline;">1</span>946        3        <span style="text-decoration: underline;">4</span>001        <span style="text-decoration: underline;">1</span>383                  26.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span>     3        1     <span style="text-decoration: underline;">1</span>951        4           3        <span style="text-decoration: underline;">1</span>197                  25.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span>     4        0     <span style="text-decoration: underline;">1</span>956        9          <span style="color: #BB0000;">NA</span>        <span style="text-decoration: underline;">1</span>441                  28.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span>     5       <span style="color: #BB0000;">NA</span>       <span style="color: #BB0000;">NA</span>        4          -<span style="color: #BB0000;">3</span>        <span style="text-decoration: underline;">1</span>429                  21.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span>     6        1     <span style="text-decoration: underline;">1</span>948        2           3        <span style="text-decoration: underline;">1</span>513                  28.6</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Alasdair Warwick.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

